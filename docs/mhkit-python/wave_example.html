

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>MHKiT Wave Module &mdash; MHKiT v0.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/mhkit.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> MHKiT
          

          
          </a>

          
            
            
              <div class="version">
                v0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../qc.html">QC Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wave.html">Wave Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../river.html">River Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tidal.html">Tidal Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils.html">Utils Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python.html">MHKiT-Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../matlab.html">MHKiT-MATLAB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contact.html">Online Forum</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MHKiT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>MHKiT Wave Module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/mhkit-python/wave_example.nblink.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    min-width: 5ex;
    padding-top: 0.3rem;
    padding-right: 0.3rem;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 0.3rem;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="MHKiT-Wave-Module">
<h1>MHKiT Wave Module<a class="headerlink" href="#MHKiT-Wave-Module" title="Permalink to this headline">¶</a></h1>
<p>The following example runs an application of the <a class="reference external" href="https://mhkit-software.github.io/MHKiT/mhkit-python/api.wave.html">MHHKiT wave module</a> to 1) generate a capture length matrix, 2) calculate MAEP, and 3) plot the scatter diagrams.</p>
<p>Start by importing the necessary python packages and MHKiT module.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">mhkit</span> <span class="kn">import</span> <span class="n">wave</span>
</pre></div>
</div>
</div>
<div class="section" id="Generate-example-data">
<h2>Generate example data<a class="headerlink" href="#Generate-example-data" title="Permalink to this headline">¶</a></h2>
<p>For demonstration purposes, this example uses synthetic data generated from statistical distributions. The data includes significant wave height, peak period, power, and omnidirectional wave flux. In a real application, the user would provide these values. The data is stored in pandas Series, each containing 1,000,000 points.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Set the random seed, to reproduce results</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">Hm0</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rayleigh</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">))</span> <span class="c1"># significant wave height values</span>
<span class="n">Te</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mf">4.5</span><span class="p">,</span> <span class="o">.</span><span class="mi">7</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">))</span> <span class="c1"># peak period values</span>
<span class="n">P</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">))</span> <span class="c1"># power values</span>
<span class="n">J</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">))</span> <span class="c1"># omnidirectional wave flux values</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Capture-Length-Matrices">
<h2>Capture Length Matrices<a class="headerlink" href="#Capture-Length-Matrices" title="Permalink to this headline">¶</a></h2>
<p>The following operations create capture length matrices, as specified by the IEC/TS 62600-100. But first, we need to calculate capture length and define bin centers. The mean capture length matrix is printed below. Keep in mind that this data has been artificially generated, so it may not be representative of what a real-world scatter diagram would look like.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Calculate capture length</span>
<span class="n">L</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">capture_length</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">J</span><span class="p">)</span>

<span class="c1"># Generate bins for Hm0 and Te</span>
<span class="n">Hm0_bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">Hm0</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">+</span> <span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># input is start, stop, and step size</span>
<span class="n">Te_bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">Te</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Create capture length matrices using mean, standard deviation, count, min and max statistics</span>
<span class="n">LM_mean</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">capture_length_matrix</span><span class="p">(</span><span class="n">Hm0</span><span class="p">,</span> <span class="n">Te</span><span class="p">,</span> <span class="n">L</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="n">Hm0_bins</span><span class="p">,</span> <span class="n">Te_bins</span><span class="p">)</span>
<span class="n">LM_std</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">capture_length_matrix</span><span class="p">(</span><span class="n">Hm0</span><span class="p">,</span> <span class="n">Te</span><span class="p">,</span> <span class="n">L</span><span class="p">,</span> <span class="s1">&#39;std&#39;</span><span class="p">,</span> <span class="n">Hm0_bins</span><span class="p">,</span> <span class="n">Te_bins</span><span class="p">)</span>
<span class="n">LM_count</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">capture_length_matrix</span><span class="p">(</span><span class="n">Hm0</span><span class="p">,</span> <span class="n">Te</span><span class="p">,</span> <span class="n">L</span><span class="p">,</span> <span class="s1">&#39;count&#39;</span><span class="p">,</span> <span class="n">Hm0_bins</span><span class="p">,</span> <span class="n">Te_bins</span><span class="p">)</span>
<span class="n">LM_min</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">capture_length_matrix</span><span class="p">(</span><span class="n">Hm0</span><span class="p">,</span> <span class="n">Te</span><span class="p">,</span> <span class="n">L</span><span class="p">,</span> <span class="s1">&#39;min&#39;</span><span class="p">,</span> <span class="n">Hm0_bins</span><span class="p">,</span> <span class="n">Te_bins</span><span class="p">)</span>
<span class="n">LM_max</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">capture_length_matrix</span><span class="p">(</span><span class="n">Hm0</span><span class="p">,</span> <span class="n">Te</span><span class="p">,</span> <span class="n">L</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">,</span> <span class="n">Hm0_bins</span><span class="p">,</span> <span class="n">Te_bins</span><span class="p">)</span>

<span class="c1"># Print capture length matrices using mean</span>
<span class="nb">print</span><span class="p">(</span><span class="n">LM_mean</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
      0.0       1.0       2.0       3.0       4.0       5.0       6.0  \
0.0   NaN       NaN  0.677108  0.661884  0.667854  0.669410  0.667463
0.5   NaN       NaN  0.659457  0.666861  0.669235  0.667149  0.667563
1.0   NaN       NaN  0.673245  0.667466  0.666974  0.666094  0.668441
1.5   NaN  0.462755  0.648711  0.667925  0.667478  0.666961  0.669453
2.0   NaN  0.571597  0.668060  0.667173  0.667399  0.666887  0.669135
2.5   NaN  0.670029  0.665025  0.668533  0.666878  0.666313  0.667502
3.0   NaN  0.738043  0.668574  0.666087  0.666229  0.667578  0.669056
3.5   NaN  0.677570  0.660034  0.665847  0.667352  0.667819  0.669073
4.0   NaN       NaN  0.674354  0.666644  0.666941  0.666739  0.666447
4.5   NaN       NaN  0.670379  0.666388  0.666439  0.667825  0.667666
5.0   NaN  0.670436  0.660289  0.662873  0.665616  0.666663  0.665197
5.5   NaN       NaN  0.648921  0.664406  0.666569  0.665054  0.665372
6.0   NaN       NaN  0.707083  0.669781  0.662765  0.663517  0.667948
6.5   NaN       NaN  0.654243  0.675316  0.671146  0.663173  0.668539
7.0   NaN       NaN  0.652589  0.686338  0.669441  0.671178  0.670247
7.5   NaN       NaN  0.682320  0.663573  0.663444  0.657059  0.665266
8.0   NaN  0.521178  0.647847  0.665360  0.662909  0.668889  0.663023
8.5   NaN       NaN       NaN  0.708195  0.663246  0.666974  0.709722
9.0   NaN       NaN       NaN  0.759127  0.677439  0.689735       NaN
9.5   NaN       NaN  0.756093       NaN  0.731946  0.679246  0.761737
10.0  NaN       NaN       NaN       NaN  0.738239  0.819914       NaN
10.5  NaN       NaN       NaN       NaN  0.701196       NaN       NaN
11.0  NaN       NaN       NaN       NaN  0.595899       NaN       NaN

           7.0       8.0
0.0   0.652220       NaN
0.5   0.689393       NaN
1.0   0.671874  0.716722
1.5   0.665120  0.886942
2.0   0.655704  0.605559
2.5   0.685900  0.739043
3.0   0.649432  0.542256
3.5   0.665068       NaN
4.0   0.660931       NaN
4.5   0.646552  0.750705
5.0   0.643518       NaN
5.5   0.650992       NaN
6.0   0.607072       NaN
6.5   0.658012       NaN
7.0   0.701503       NaN
7.5   0.609165       NaN
8.0        NaN       NaN
8.5        NaN       NaN
9.0        NaN       NaN
9.5        NaN       NaN
10.0       NaN       NaN
10.5       NaN       NaN
11.0       NaN       NaN
</pre></div></div>
</div>
<p>Additional capture length matrices can be computed, for example, the frequency matrix is computed below.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Create capture length matrices using frequency</span>
<span class="n">LM_freq</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">capture_length_matrix</span><span class="p">(</span><span class="n">Hm0</span><span class="p">,</span> <span class="n">Te</span><span class="p">,</span> <span class="n">L</span><span class="p">,</span><span class="s1">&#39;frequency&#39;</span><span class="p">,</span> <span class="n">Hm0_bins</span><span class="p">,</span> <span class="n">Te_bins</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Power-Matrices">
<h2>Power Matrices<a class="headerlink" href="#Power-Matrices" title="Permalink to this headline">¶</a></h2>
<p>As specified in IEC/TS 62600-100, the power matrix is generated from the capture length matrix and wave energy flux matrix, as shown below</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Create wave energy flux matrix using mean</span>
<span class="n">JM</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">wave_energy_flux_matrix</span><span class="p">(</span><span class="n">Hm0</span><span class="p">,</span> <span class="n">Te</span><span class="p">,</span> <span class="n">J</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="n">Hm0_bins</span><span class="p">,</span> <span class="n">Te_bins</span><span class="p">)</span>

<span class="c1"># Create power matrix using mean</span>
<span class="n">PM_mean</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">power_matrix</span><span class="p">(</span><span class="n">LM_mean</span><span class="p">,</span> <span class="n">JM</span><span class="p">)</span>

<span class="c1"># Create power matrix using standard deviation</span>
<span class="n">PM_std</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">power_matrix</span><span class="p">(</span><span class="n">LM_std</span><span class="p">,</span> <span class="n">JM</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">capture_length_matrix</span></code> function can also be used as an arbitrary matrix generator. To do this, simply pass a different Series in the place of capture length (L). For example, while not specified by the IEC standards, if the user doesn’t have the omnidirectional wave flux, the average power matrix could hypothetically be generated in the following manner.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Demonstration of arbitrary matrix generator</span>
<span class="n">PM_mean_not_standard</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">capture_length_matrix</span><span class="p">(</span><span class="n">Hm0</span><span class="p">,</span> <span class="n">Te</span><span class="p">,</span> <span class="n">P</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="n">Hm0_bins</span><span class="p">,</span> <span class="n">Te_bins</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">capture_length_matrix</span></code> function can also use a callable function as the statistic argument. For example, suppose that we wanted to generate a matrix with the variance of the capture length. We could achieve this by passing the numpy variance function <code class="docutils literal notranslate"><span class="pre">np.var</span></code> into the <code class="docutils literal notranslate"><span class="pre">capture_length_matrix</span></code> function, as shown below.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Demonstration of passing a callable function to the matrix generator</span>
<span class="n">LM_variance</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">capture_length_matrix</span><span class="p">(</span><span class="n">Hm0</span><span class="p">,</span> <span class="n">Te</span><span class="p">,</span> <span class="n">L</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">var</span><span class="p">,</span> <span class="n">Hm0_bins</span><span class="p">,</span> <span class="n">Te_bins</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="MAEP">
<h2>MAEP<a class="headerlink" href="#MAEP" title="Permalink to this headline">¶</a></h2>
<p>There are two ways to calculate mean annual energy production (MEAP). One is from capture length and wave energy flux matrices, the other is from time-series data, as shown below.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Calcaulte maep from timeseries</span>
<span class="n">maep_timeseries</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">mean_annual_energy_production_timeseries</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="n">J</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MAEP from timeseries = &quot;</span><span class="p">,</span> <span class="n">maep_timeseries</span><span class="p">)</span>

<span class="c1"># Calcaulte maep from matrix</span>
<span class="n">maep_matrix</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">performance</span><span class="o">.</span><span class="n">mean_annual_energy_production_matrix</span><span class="p">(</span><span class="n">LM_mean</span><span class="p">,</span> <span class="n">JM</span><span class="p">,</span> <span class="n">LM_freq</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MAEP from matrices = &quot;</span><span class="p">,</span> <span class="n">maep_matrix</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
MAEP from timeseries =  1753073.5377000887
MAEP from matrices =  1754328.6997311334
</pre></div></div>
</div>
</div>
<div class="section" id="Graphics">
<h2>Graphics<a class="headerlink" href="#Graphics" title="Permalink to this headline">¶</a></h2>
<p>The graphics function <code class="docutils literal notranslate"><span class="pre">plot_matrix</span></code> can be used to visualize results. It is important to note that the plotting function assumes the step size between bins to be linear.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Plot the capture length mean matrix</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">plot_matrix</span><span class="p">(</span><span class="n">LM_mean</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/mhkit-python_wave_example_17_0.png" src="../_images/mhkit-python_wave_example_17_0.png" />
</div>
</div>
<p>The plotting function only requires the matrix as input, but the function can also take several other arguments. The list of optional arguments are: <code class="docutils literal notranslate"><span class="pre">xlabel,</span> <span class="pre">ylabel,</span> <span class="pre">zlabel,</span> <span class="pre">show_values,</span> <span class="pre">and</span> <span class="pre">ax</span></code>. The following uses these optional arguments. The matplotlib package is imported to define an axis with a larger figure size.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Customize the matrix plot</span>
<span class="kn">import</span> <span class="nn">matplotlib.pylab</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
<span class="n">wave</span><span class="o">.</span><span class="n">graphics</span><span class="o">.</span><span class="n">plot_matrix</span><span class="p">(</span><span class="n">PM_mean</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;xlabel&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;ylabel&#39;</span><span class="p">,</span> <span class="n">zlabel</span><span class="o">=</span><span class="s1">&#39;zlabel&#39;</span><span class="p">,</span> <span class="n">show_values</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&lt;matplotlib.axes._subplots.AxesSubplot at 0x1b83a7c8188&gt;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/mhkit-python_wave_example_19_1.png" src="../_images/mhkit-python_wave_example_19_1.png" />
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, National Renewable Energy Laboratory, Pacific Northwest National Laboratory, and Sandia National Laboratories

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-164358105-1', 'auto');
    ga('send', 'pageview');
    </script>

    
   

</body>
</html>